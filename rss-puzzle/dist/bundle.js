(()=>{"use strict";var e={921:(e,t,n)=>{n.r(t)},223:(e,t,n)=>{n.r(t)},227:(e,t,n)=>{n.r(t)},597:(e,t,n)=>{n.r(t)},266:(e,t,n)=>{n.r(t)},284:(e,t,n)=>{n.r(t)},514:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(990));n(921);const o=function(){const e=document.createElement("header");e.classList.add("header"),e.innerHTML="\n  <nav class='navigation'>\n    <button class='logout'>Logout<span class='pic'></span></button>\n  </nav>";const t=e.querySelector(".logout");return null==t||t.addEventListener("click",(()=>{document.body.append(a.default)})),e}();t.default=o},1:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(997),o=r(n(807));n(223);const s=n(956);t.default=function(){const e=document.createElement("form");e.classList.add("form"),e.innerHTML="\n    <label><input class='input' type='text' name='name' class='first_name' placeholder=\"First name\" required /></label>\n    <label><input class='input' type='text' name='surname' class='surname' placeholder=\"Surname\" required /></label>\n    <button class='btn_login'>Sign in</button>\n  ";const t=e.querySelectorAll(".input");return(0,s.nameListener)(t[0]),(0,s.surnameListener)(t[1]),e.addEventListener("submit",(e=>{e.preventDefault();const n=t[0],r=t[1];o.default.dispatch((0,a.saveLoginAction)({firstName:n.value,surname:r.value}))})),e}},956:(e,t,n)=>{function r(e){return!1===/^[A-Z]/.test(e)}function a(e){return!1===/^[A-Za-z\-]+$/.test(e)}function o(e){return!1===/[A-Za-z].{2,}/.test(e)}function s(e){return!1===/[A-Za-z].{3,}/.test(e)}function u(){const e=document.querySelector(".error");null==e||e.remove()}Object.defineProperty(t,"__esModule",{value:!0}),t.surnameListener=t.nameListener=t.deleteTextError=t.checklengthSurname=t.checklengthName=t.checkHyphen=t.checkLetters=void 0,n(223),t.checkLetters=r,t.checkHyphen=a,t.checklengthName=o,t.checklengthSurname=s,t.deleteTextError=u,t.nameListener=function(e){e.addEventListener("change",(()=>{e.value&&(e.setAttribute("pattern","-?(?=.*^[A-Z])(?=.*[a-z]+$)(?=.*[A-Za-z]).{3,}"),r(e.value)?(u(),e.insertAdjacentHTML("beforebegin",'<p class="error">Первая заглавная, все буквы из английского алфавита</p>')):a(e.value)?(u(),e.insertAdjacentHTML("beforebegin",'<p class="error">Допустимые символы "-"</p>')):o(e.value)?(u(),e.insertAdjacentHTML("beforebegin",'<p class="error">Минимальная длина строки 3 символа</p>')):document.querySelectorAll(".error").forEach((e=>{e.remove()})))}))},t.surnameListener=function(e){e.addEventListener("change",(()=>{e.value&&(e.setAttribute("pattern","-?(?=.*^[A-Z])(?=.*[a-z]+$)(?=.*[A-Za-z]).{4,}"),r(e.value)?(u(),e.insertAdjacentHTML("beforebegin",'<p class="error">Первая заглавная, все буквы из английского алфавита</p>')):a(e.value)?(u(),e.insertAdjacentHTML("beforebegin",'<p class="error">Допустимые символы "-"</p>')):s(e.value)?(u(),e.insertAdjacentHTML("beforebegin",'<p class="error">Минимальная длина строки 4 символа</p>')):document.querySelectorAll(".error").forEach((e=>{e.remove()})))}))}},990:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(997),o=r(n(807));n(227);const s=function(){const e=document.createElement("div");e.classList.add("modalOverlay"),e.innerHTML="\n    <div class='modal'>\n        <h2 class='text'>Are you sure you want to logout?</h2>\n        <div class='btns'>\n            <button class='btnModal yesBtn'>Yes</button>\n            <button class='btnModal noBtn'>No</button>\n        </div>\n    </div>\n  ";const t=e.querySelector(".yesBtn"),n=e.querySelector(".noBtn");return null==n||n.addEventListener("click",(()=>{e.remove()})),null==t||t.addEventListener("click",(()=>{const t=document.querySelector(".header");o.default.dispatch((0,a.logoutAction)()),e.remove(),null==t||t.remove()})),e}();t.default=s},950:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),n(597),t.default=function(){const e=document.createElement("main");return e.classList.add("container"),e.innerHTML="\n      <div class='play-box'>Playground</div>\n    ",e}},160:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(997),o=r(n(807));n(266),t.default=function(){const{firstName:e,surname:t}=o.default.getState(),n=document.createElement("div");n.classList.add("box"),n.innerHTML=`\n    <h1 class='title'>English Puzzle</h1>\n    <span class='galaxy'></span>\n    <p class='greeting'>Hello, ${e} ${t}!</p>\n    <p class='description'>Click on words, collect phrases. Words can be drag and drop. <br/>Select tooltips in the menu.</p>\n    <button class='startBtn'>Start<span class='play'></span></button>\n  `;const r=n.querySelector(".startBtn");return null==r||r.addEventListener("click",(()=>{o.default.dispatch((0,a.startGameAction)())})),n}},156:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(284);const a=r(n(807)),o=n(997),s=r(n(1)),u=r(n(514)),c=r(n(160)),l=r(n(950));a.default.subscribe((function(){const e=a.default.getState();""===e.firstName?(document.body.innerHTML="",document.body.append((0,s.default)())):(document.body.innerHTML="",document.body.append(u.default),document.body.append((0,c.default)())),e.startGame&&(document.body.innerHTML="",document.body.append(u.default),document.body.append((0,l.default)()))})),a.default.dispatch((0,o.initStateAction)()),alert("Пожалуйста, проверьте мою работу в последний день дедлайна! =)")},997:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.startGameAction=t.logoutAction=t.saveLoginAction=t.initStateAction=void 0;const r=n(865);t.initStateAction=()=>{const e=localStorage.getItem("form"),t=e?JSON.parse(e):{firstName:"",surname:""};return{type:r.INIT_STATE,payload:t}},t.saveLoginAction=({firstName:e,surname:t})=>{const n=JSON.stringify({firstName:e,surname:t});return localStorage.setItem("form",n),{type:r.SAVE_LOGIN,payload:{firstName:e,surname:t}}},t.logoutAction=()=>(localStorage.removeItem("form"),{type:r.LOGOUT}),t.startGameAction=()=>({type:r.START_GAME})},865:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.START_GAME=t.LOGOUT=t.INIT_STATE=t.SAVE_LOGIN=void 0,t.SAVE_LOGIN="SAVE_LOGIN",t.INIT_STATE="INIT_STATE",t.LOGOUT="LOGOUT",t.START_GAME="START_GAME"},23:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(997);t.default=(e,t)=>{let n=e(t,(0,r.initStateAction)());const a=[];return{dispatch(t){n=e(n,t),a.forEach((e=>e()))},subscribe(e){a.push(e)},getState:()=>n}}},710:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.rootReducer=t.initialState=void 0;const r=n(865);t.initialState={firstName:"",surname:"",startGame:!1},t.rootReducer=(e=t.initialState,n)=>{switch(n.type){case r.LOGOUT:return Object.assign({},t.initialState);case r.INIT_STATE:case r.SAVE_LOGIN:return Object.assign(Object.assign({},e),{firstName:n.payload.firstName,surname:n.payload.surname,startGame:!1});case r.START_GAME:return Object.assign(Object.assign({},e),{startGame:!0});default:return e}}},807:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(23)),o=n(710),s=(0,a.default)(o.rootReducer);t.default=s}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(156)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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MEJBLE9BQU9DLGFBQzFDM0csT0FBT0MsZUFBZUMsRUFBU3dHLE9BQU9DLFlBQWEsQ0FBRXhHLE1BQU8sV0FFN0RILE9BQU9DLGVBQWVDLEVBQVMsYUFBYyxDQUFFQyxPQUFPLEdBQU8sRUNGcEMrRixFQUFvQixJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcnNzLXB1enpsZS8uL3NyYy9jb21wb25lbnRzL2hlYWRlci9oZWFkZXIudHMiLCJ3ZWJwYWNrOi8vcnNzLXB1enpsZS8uL3NyYy9jb21wb25lbnRzL2xvZ2luL2xvZ2luLWZvcm0udHMiLCJ3ZWJwYWNrOi8vcnNzLXB1enpsZS8uL3NyYy9jb21wb25lbnRzL2xvZ2luL3ZhbGlkYXRvci1mb3JtLnRzIiwid2VicGFjazovL3Jzcy1wdXp6bGUvLi9zcmMvY29tcG9uZW50cy9tb2RhbC9tb2RhbC50cyIsIndlYnBhY2s6Ly9yc3MtcHV6emxlLy4vc3JjL2NvbXBvbmVudHMvcGxheWdyb3VuZC9wbGF5R3JvdW5kLnRzIiwid2VicGFjazovL3Jzcy1wdXp6bGUvLi9zcmMvY29tcG9uZW50cy9zdGFydC1wYWdlL3N0YXJ0LXBhZ2UudHMiLCJ3ZWJwYWNrOi8vcnNzLXB1enpsZS8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly9yc3MtcHV6emxlLy4vc3JjL3N0b3JlL2FjdGlvbnMudHMiLCJ3ZWJwYWNrOi8vcnNzLXB1enpsZS8uL3NyYy9zdG9yZS9jb25zdGFucy50cyIsIndlYnBhY2s6Ly9yc3MtcHV6emxlLy4vc3JjL3N0b3JlL2NyZWF0ZVN0b3JlLnRzIiwid2VicGFjazovL3Jzcy1wdXp6bGUvLi9zcmMvc3RvcmUvcm9vdFJlZHVjZXIudHMiLCJ3ZWJwYWNrOi8vcnNzLXB1enpsZS8uL3NyYy9zdG9yZS9zdG9yZS50cyIsIndlYnBhY2s6Ly9yc3MtcHV6emxlL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3Jzcy1wdXp6bGUvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9yc3MtcHV6emxlL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IG1vZGFsXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4uL21vZGFsL21vZGFsXCIpKTtcbnJlcXVpcmUoXCIuL3N0eWxlLmNzc1wiKTtcbmZ1bmN0aW9uIGNyZWF0ZUhlYWRlcigpIHtcbiAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoZWFkZXInKTtcbiAgICBoZWFkZXIuY2xhc3NMaXN0LmFkZCgnaGVhZGVyJyk7XG4gICAgaGVhZGVyLmlubmVySFRNTCA9IGBcbiAgPG5hdiBjbGFzcz0nbmF2aWdhdGlvbic+XG4gICAgPGJ1dHRvbiBjbGFzcz0nbG9nb3V0Jz5Mb2dvdXQ8c3BhbiBjbGFzcz0ncGljJz48L3NwYW4+PC9idXR0b24+XG4gIDwvbmF2PmA7XG4gICAgY29uc3QgYnRuTG9nb3V0ID0gaGVhZGVyLnF1ZXJ5U2VsZWN0b3IoJy5sb2dvdXQnKTtcbiAgICBidG5Mb2dvdXQgPT09IG51bGwgfHwgYnRuTG9nb3V0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBidG5Mb2dvdXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKG1vZGFsXzEuZGVmYXVsdCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGhlYWRlcjtcbn1cbmNvbnN0IGhlYWRlckdhbWUgPSBjcmVhdGVIZWFkZXIoKTtcbmV4cG9ydHMuZGVmYXVsdCA9IGhlYWRlckdhbWU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGFjdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi8uLi9zdG9yZS9hY3Rpb25zXCIpO1xuY29uc3Qgc3RvcmVfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi4vLi4vc3RvcmUvc3RvcmVcIikpO1xucmVxdWlyZShcIi4vc3R5bGUuY3NzXCIpO1xuY29uc3QgdmFsaWRhdG9yX2Zvcm1fMSA9IHJlcXVpcmUoXCIuL3ZhbGlkYXRvci1mb3JtXCIpO1xuZnVuY3Rpb24gbG9naW5Gb3JtKCkge1xuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XG4gICAgZm9ybS5jbGFzc0xpc3QuYWRkKCdmb3JtJyk7XG4gICAgZm9ybS5pbm5lckhUTUwgPSBgXG4gICAgPGxhYmVsPjxpbnB1dCBjbGFzcz0naW5wdXQnIHR5cGU9J3RleHQnIG5hbWU9J25hbWUnIGNsYXNzPSdmaXJzdF9uYW1lJyBwbGFjZWhvbGRlcj1cIkZpcnN0IG5hbWVcIiByZXF1aXJlZCAvPjwvbGFiZWw+XG4gICAgPGxhYmVsPjxpbnB1dCBjbGFzcz0naW5wdXQnIHR5cGU9J3RleHQnIG5hbWU9J3N1cm5hbWUnIGNsYXNzPSdzdXJuYW1lJyBwbGFjZWhvbGRlcj1cIlN1cm5hbWVcIiByZXF1aXJlZCAvPjwvbGFiZWw+XG4gICAgPGJ1dHRvbiBjbGFzcz0nYnRuX2xvZ2luJz5TaWduIGluPC9idXR0b24+XG4gIGA7XG4gICAgY29uc3QgaW5wdXRzID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcuaW5wdXQnKTtcbiAgICAoMCwgdmFsaWRhdG9yX2Zvcm1fMS5uYW1lTGlzdGVuZXIpKGlucHV0c1swXSk7XG4gICAgKDAsIHZhbGlkYXRvcl9mb3JtXzEuc3VybmFtZUxpc3RlbmVyKShpbnB1dHNbMV0pO1xuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBpbnB1dE5hbWUgPSBpbnB1dHNbMF07XG4gICAgICAgIGNvbnN0IGlucHV0U3VybmFtZSA9IGlucHV0c1sxXTtcbiAgICAgICAgc3RvcmVfMS5kZWZhdWx0LmRpc3BhdGNoKCgwLCBhY3Rpb25zXzEuc2F2ZUxvZ2luQWN0aW9uKSh7IGZpcnN0TmFtZTogaW5wdXROYW1lLnZhbHVlLCBzdXJuYW1lOiBpbnB1dFN1cm5hbWUudmFsdWUgfSkpO1xuICAgIH0pO1xuICAgIHJldHVybiBmb3JtO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gbG9naW5Gb3JtO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnN1cm5hbWVMaXN0ZW5lciA9IGV4cG9ydHMubmFtZUxpc3RlbmVyID0gZXhwb3J0cy5kZWxldGVUZXh0RXJyb3IgPSBleHBvcnRzLmNoZWNrbGVuZ3RoU3VybmFtZSA9IGV4cG9ydHMuY2hlY2tsZW5ndGhOYW1lID0gZXhwb3J0cy5jaGVja0h5cGhlbiA9IGV4cG9ydHMuY2hlY2tMZXR0ZXJzID0gdm9pZCAwO1xucmVxdWlyZShcIi4vc3R5bGUuY3NzXCIpO1xuZnVuY3Rpb24gY2hlY2tMZXR0ZXJzKGlucHV0KSB7XG4gICAgY29uc3QgZmlyc3RMZXR0ZXIgPSAvXltBLVpdLztcbiAgICBjb25zdCBmaXJzdExldHRlclJlc3VsdCA9IGZpcnN0TGV0dGVyLnRlc3QoaW5wdXQpO1xuICAgIGlmIChmaXJzdExldHRlclJlc3VsdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydHMuY2hlY2tMZXR0ZXJzID0gY2hlY2tMZXR0ZXJzO1xuZnVuY3Rpb24gY2hlY2tIeXBoZW4oaW5wdXQpIHtcbiAgICBjb25zdCBvbmx5SHlwaGVuID0gL15bQS1aYS16XFwtXSskLztcbiAgICBjb25zdCBvbmx5SHlwaGVuUmVzdWx0ID0gb25seUh5cGhlbi50ZXN0KGlucHV0KTtcbiAgICBpZiAob25seUh5cGhlblJlc3VsdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydHMuY2hlY2tIeXBoZW4gPSBjaGVja0h5cGhlbjtcbmZ1bmN0aW9uIGNoZWNrbGVuZ3RoTmFtZShpbnB1dCkge1xuICAgIGNvbnN0IGxlbmd0aE5hbWUgPSAvW0EtWmEtel0uezIsfS87XG4gICAgY29uc3QgbGVuZ3RoTmFtZVJlc3VsdCA9IGxlbmd0aE5hbWUudGVzdChpbnB1dCk7XG4gICAgaWYgKGxlbmd0aE5hbWVSZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnRzLmNoZWNrbGVuZ3RoTmFtZSA9IGNoZWNrbGVuZ3RoTmFtZTtcbmZ1bmN0aW9uIGNoZWNrbGVuZ3RoU3VybmFtZShpbnB1dCkge1xuICAgIGNvbnN0IGxlbmd0aFN1cm5hbWUgPSAvW0EtWmEtel0uezMsfS87XG4gICAgY29uc3QgbGVuZ3RoU3VybmFtZVJlc3VsdCA9IGxlbmd0aFN1cm5hbWUudGVzdChpbnB1dCk7XG4gICAgaWYgKGxlbmd0aFN1cm5hbWVSZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnRzLmNoZWNrbGVuZ3RoU3VybmFtZSA9IGNoZWNrbGVuZ3RoU3VybmFtZTtcbmZ1bmN0aW9uIGRlbGV0ZVRleHRFcnJvcigpIHtcbiAgICBjb25zdCB0ZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVycm9yJyk7XG4gICAgdGV4dCA9PT0gbnVsbCB8fCB0ZXh0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0ZXh0LnJlbW92ZSgpO1xufVxuZXhwb3J0cy5kZWxldGVUZXh0RXJyb3IgPSBkZWxldGVUZXh0RXJyb3I7XG5mdW5jdGlvbiBuYW1lTGlzdGVuZXIodGFnKSB7XG4gICAgdGFnLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgaWYgKHRhZy52YWx1ZSkge1xuICAgICAgICAgICAgdGFnLnNldEF0dHJpYnV0ZSgncGF0dGVybicsICctPyg/PS4qXltBLVpdKSg/PS4qW2Etel0rJCkoPz0uKltBLVphLXpdKS57Myx9Jyk7XG4gICAgICAgICAgICBpZiAoY2hlY2tMZXR0ZXJzKHRhZy52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBkZWxldGVUZXh0RXJyb3IoKTtcbiAgICAgICAgICAgICAgICB0YWcuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmViZWdpbicsICc8cCBjbGFzcz1cImVycm9yXCI+0J/QtdGA0LLQsNGPINC30LDQs9C70LDQstC90LDRjywg0LLRgdC1INCx0YPQutCy0Ysg0LjQtyDQsNC90LPQu9C40LnRgdC60L7Qs9C+INCw0LvRhNCw0LLQuNGC0LA8L3A+Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVja0h5cGhlbih0YWcudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlVGV4dEVycm9yKCk7XG4gICAgICAgICAgICAgICAgdGFnLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlYmVnaW4nLCAnPHAgY2xhc3M9XCJlcnJvclwiPtCU0L7Qv9GD0YHRgtC40LzRi9C1INGB0LjQvNCy0L7Qu9GLIFwiLVwiPC9wPicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2tsZW5ndGhOYW1lKHRhZy52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBkZWxldGVUZXh0RXJyb3IoKTtcbiAgICAgICAgICAgICAgICB0YWcuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmViZWdpbicsICc8cCBjbGFzcz1cImVycm9yXCI+0JzQuNC90LjQvNCw0LvRjNC90LDRjyDQtNC70LjQvdCwINGB0YLRgNC+0LrQuCAzINGB0LjQvNCy0L7Qu9CwPC9wPicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmVycm9yJyk7XG4gICAgICAgICAgICAgICAgZXJyb3JzLmZvckVhY2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnRzLm5hbWVMaXN0ZW5lciA9IG5hbWVMaXN0ZW5lcjtcbmZ1bmN0aW9uIHN1cm5hbWVMaXN0ZW5lcih0YWcpIHtcbiAgICB0YWcuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICBpZiAodGFnLnZhbHVlKSB7XG4gICAgICAgICAgICB0YWcuc2V0QXR0cmlidXRlKCdwYXR0ZXJuJywgJy0/KD89LipeW0EtWl0pKD89LipbYS16XSskKSg/PS4qW0EtWmEtel0pLns0LH0nKTtcbiAgICAgICAgICAgIGlmIChjaGVja0xldHRlcnModGFnLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZVRleHRFcnJvcigpO1xuICAgICAgICAgICAgICAgIHRhZy5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWJlZ2luJywgJzxwIGNsYXNzPVwiZXJyb3JcIj7Qn9C10YDQstCw0Y8g0LfQsNCz0LvQsNCy0L3QsNGPLCDQstGB0LUg0LHRg9C60LLRiyDQuNC3INCw0L3Qs9C70LjQudGB0LrQvtCz0L4g0LDQu9GE0LDQstC40YLQsDwvcD4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrSHlwaGVuKHRhZy52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBkZWxldGVUZXh0RXJyb3IoKTtcbiAgICAgICAgICAgICAgICB0YWcuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmViZWdpbicsICc8cCBjbGFzcz1cImVycm9yXCI+0JTQvtC/0YPRgdGC0LjQvNGL0LUg0YHQuNC80LLQvtC70YsgXCItXCI8L3A+Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVja2xlbmd0aFN1cm5hbWUodGFnLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZVRleHRFcnJvcigpO1xuICAgICAgICAgICAgICAgIHRhZy5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWJlZ2luJywgJzxwIGNsYXNzPVwiZXJyb3JcIj7QnNC40L3QuNC80LDQu9GM0L3QsNGPINC00LvQuNC90LAg0YHRgtGA0L7QutC4IDQg0YHQuNC80LLQvtC70LA8L3A+Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZXJyb3InKTtcbiAgICAgICAgICAgICAgICBlcnJvcnMuZm9yRWFjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmV4cG9ydHMuc3VybmFtZUxpc3RlbmVyID0gc3VybmFtZUxpc3RlbmVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBhY3Rpb25zXzEgPSByZXF1aXJlKFwiLi4vLi4vc3RvcmUvYWN0aW9uc1wiKTtcbmNvbnN0IHN0b3JlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4uLy4uL3N0b3JlL3N0b3JlXCIpKTtcbnJlcXVpcmUoXCIuL3N0eWxlLmNzc1wiKTtcbmZ1bmN0aW9uIG1vZGFsV2luZG93KCkge1xuICAgIGNvbnN0IG1vZGFsT3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG1vZGFsT3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdtb2RhbE92ZXJsYXknKTtcbiAgICBtb2RhbE92ZXJsYXkuaW5uZXJIVE1MID0gYFxuICAgIDxkaXYgY2xhc3M9J21vZGFsJz5cbiAgICAgICAgPGgyIGNsYXNzPSd0ZXh0Jz5BcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gbG9nb3V0PzwvaDI+XG4gICAgICAgIDxkaXYgY2xhc3M9J2J0bnMnPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0nYnRuTW9kYWwgeWVzQnRuJz5ZZXM8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9J2J0bk1vZGFsIG5vQnRuJz5ObzwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgYDtcbiAgICBjb25zdCB5ZXNCdG4gPSBtb2RhbE92ZXJsYXkucXVlcnlTZWxlY3RvcignLnllc0J0bicpO1xuICAgIGNvbnN0IG5vQnRuID0gbW9kYWxPdmVybGF5LnF1ZXJ5U2VsZWN0b3IoJy5ub0J0bicpO1xuICAgIG5vQnRuID09PSBudWxsIHx8IG5vQnRuID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgbW9kYWxPdmVybGF5LnJlbW92ZSgpO1xuICAgIH0pO1xuICAgIHllc0J0biA9PT0gbnVsbCB8fCB5ZXNCdG4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHllc0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcicpO1xuICAgICAgICBzdG9yZV8xLmRlZmF1bHQuZGlzcGF0Y2goKDAsIGFjdGlvbnNfMS5sb2dvdXRBY3Rpb24pKCkpO1xuICAgICAgICBtb2RhbE92ZXJsYXkucmVtb3ZlKCk7XG4gICAgICAgIGhlYWRlciA9PT0gbnVsbCB8fCBoZWFkZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGhlYWRlci5yZW1vdmUoKTtcbiAgICB9KTtcbiAgICByZXR1cm4gbW9kYWxPdmVybGF5O1xufVxuY29uc3QgbW9kYWwgPSBtb2RhbFdpbmRvdygpO1xuZXhwb3J0cy5kZWZhdWx0ID0gbW9kYWw7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnJlcXVpcmUoXCIuL3N0eWxlLmNzc1wiKTtcbmZ1bmN0aW9uIHBsYXlHYW1lKCkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ21haW4nKTtcbiAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnY29udGFpbmVyJyk7XG4gICAgY29udGFpbmVyLmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9J3BsYXktYm94Jz5QbGF5Z3JvdW5kPC9kaXY+XG4gICAgYDtcbiAgICByZXR1cm4gY29udGFpbmVyO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gcGxheUdhbWU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGFjdGlvbnNfMSA9IHJlcXVpcmUoXCIuLi8uLi9zdG9yZS9hY3Rpb25zXCIpO1xuY29uc3Qgc3RvcmVfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi4vLi4vc3RvcmUvc3RvcmVcIikpO1xucmVxdWlyZShcIi4vc3R5bGUuY3NzXCIpO1xuZnVuY3Rpb24gc3RhcnRTY3JlZW4oKSB7XG4gICAgY29uc3QgeyBmaXJzdE5hbWUsIHN1cm5hbWUgfSA9IHN0b3JlXzEuZGVmYXVsdC5nZXRTdGF0ZSgpO1xuICAgIGNvbnN0IHN0YXJ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgc3RhcnQuY2xhc3NMaXN0LmFkZCgnYm94Jyk7XG4gICAgc3RhcnQuaW5uZXJIVE1MID0gYFxuICAgIDxoMSBjbGFzcz0ndGl0bGUnPkVuZ2xpc2ggUHV6emxlPC9oMT5cbiAgICA8c3BhbiBjbGFzcz0nZ2FsYXh5Jz48L3NwYW4+XG4gICAgPHAgY2xhc3M9J2dyZWV0aW5nJz5IZWxsbywgJHtmaXJzdE5hbWV9ICR7c3VybmFtZX0hPC9wPlxuICAgIDxwIGNsYXNzPSdkZXNjcmlwdGlvbic+Q2xpY2sgb24gd29yZHMsIGNvbGxlY3QgcGhyYXNlcy4gV29yZHMgY2FuIGJlIGRyYWcgYW5kIGRyb3AuIDxici8+U2VsZWN0IHRvb2x0aXBzIGluIHRoZSBtZW51LjwvcD5cbiAgICA8YnV0dG9uIGNsYXNzPSdzdGFydEJ0bic+U3RhcnQ8c3BhbiBjbGFzcz0ncGxheSc+PC9zcGFuPjwvYnV0dG9uPlxuICBgO1xuICAgIGNvbnN0IHN0YXJ0QnRuID0gc3RhcnQucXVlcnlTZWxlY3RvcignLnN0YXJ0QnRuJyk7XG4gICAgc3RhcnRCdG4gPT09IG51bGwgfHwgc3RhcnRCdG4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0YXJ0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBzdG9yZV8xLmRlZmF1bHQuZGlzcGF0Y2goKDAsIGFjdGlvbnNfMS5zdGFydEdhbWVBY3Rpb24pKCkpO1xuICAgIH0pO1xuICAgIHJldHVybiBzdGFydDtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IHN0YXJ0U2NyZWVuO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5yZXF1aXJlKFwiLi9zdHlsZS5jc3NcIik7XG5jb25zdCBzdG9yZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3N0b3JlL3N0b3JlXCIpKTtcbmNvbnN0IGFjdGlvbnNfMSA9IHJlcXVpcmUoXCIuL3N0b3JlL2FjdGlvbnNcIik7XG5jb25zdCBsb2dpbl9mb3JtXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vY29tcG9uZW50cy9sb2dpbi9sb2dpbi1mb3JtXCIpKTtcbmNvbnN0IGhlYWRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvaGVhZGVyL2hlYWRlclwiKSk7XG5jb25zdCBzdGFydF9wYWdlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vY29tcG9uZW50cy9zdGFydC1wYWdlL3N0YXJ0LXBhZ2VcIikpO1xuY29uc3QgcGxheUdyb3VuZF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvcGxheWdyb3VuZC9wbGF5R3JvdW5kXCIpKTtcbnN0b3JlXzEuZGVmYXVsdC5zdWJzY3JpYmUocmVuZGVyKTtcbmZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHN0b3JlXzEuZGVmYXVsdC5nZXRTdGF0ZSgpO1xuICAgIGlmIChzdGF0ZS5maXJzdE5hbWUgPT09ICcnKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKCgwLCBsb2dpbl9mb3JtXzEuZGVmYXVsdCkoKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBkb2N1bWVudC5ib2R5LmlubmVySFRNTCA9ICcnO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZChoZWFkZXJfMS5kZWZhdWx0KTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmQoKDAsIHN0YXJ0X3BhZ2VfMS5kZWZhdWx0KSgpKTtcbiAgICB9XG4gICAgaWYgKHN0YXRlLnN0YXJ0R2FtZSkge1xuICAgICAgICBkb2N1bWVudC5ib2R5LmlubmVySFRNTCA9ICcnO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZChoZWFkZXJfMS5kZWZhdWx0KTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmQoKDAsIHBsYXlHcm91bmRfMS5kZWZhdWx0KSgpKTtcbiAgICB9XG59XG5zdG9yZV8xLmRlZmF1bHQuZGlzcGF0Y2goKDAsIGFjdGlvbnNfMS5pbml0U3RhdGVBY3Rpb24pKCkpO1xuYWxlcnQoJ9Cf0L7QttCw0LvRg9C50YHRgtCwLCDQv9GA0L7QstC10YDRjNGC0LUg0LzQvtGOINGA0LDQsdC+0YLRgyDQsiDQv9C+0YHQu9C10LTQvdC40Lkg0LTQtdC90Ywg0LTQtdC00LvQsNC50L3QsCEgPSknKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zdGFydEdhbWVBY3Rpb24gPSBleHBvcnRzLmxvZ291dEFjdGlvbiA9IGV4cG9ydHMuc2F2ZUxvZ2luQWN0aW9uID0gZXhwb3J0cy5pbml0U3RhdGVBY3Rpb24gPSB2b2lkIDA7XG5jb25zdCBjb25zdGFuc18xID0gcmVxdWlyZShcIi4vY29uc3RhbnNcIik7XG5jb25zdCBpbml0U3RhdGVBY3Rpb24gPSAoKSA9PiB7XG4gICAgY29uc3QgZGF0YUZvcm0gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZm9ybScpO1xuICAgIGNvbnN0IGRhdGEgPSBkYXRhRm9ybSA/IEpTT04ucGFyc2UoZGF0YUZvcm0pIDogeyBmaXJzdE5hbWU6ICcnLCBzdXJuYW1lOiAnJyB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IGNvbnN0YW5zXzEuSU5JVF9TVEFURSxcbiAgICAgICAgcGF5bG9hZDogZGF0YSxcbiAgICB9O1xufTtcbmV4cG9ydHMuaW5pdFN0YXRlQWN0aW9uID0gaW5pdFN0YXRlQWN0aW9uO1xuY29uc3Qgc2F2ZUxvZ2luQWN0aW9uID0gKHsgZmlyc3ROYW1lLCBzdXJuYW1lIH0pID0+IHtcbiAgICBjb25zdCBqc29uRm9ybSA9IEpTT04uc3RyaW5naWZ5KHsgZmlyc3ROYW1lLCBzdXJuYW1lIH0pO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmb3JtJywganNvbkZvcm0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IGNvbnN0YW5zXzEuU0FWRV9MT0dJTixcbiAgICAgICAgcGF5bG9hZDogeyBmaXJzdE5hbWUsIHN1cm5hbWUgfSxcbiAgICB9O1xufTtcbmV4cG9ydHMuc2F2ZUxvZ2luQWN0aW9uID0gc2F2ZUxvZ2luQWN0aW9uO1xuY29uc3QgbG9nb3V0QWN0aW9uID0gKCkgPT4ge1xuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdmb3JtJyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogY29uc3RhbnNfMS5MT0dPVVQsXG4gICAgfTtcbn07XG5leHBvcnRzLmxvZ291dEFjdGlvbiA9IGxvZ291dEFjdGlvbjtcbmNvbnN0IHN0YXJ0R2FtZUFjdGlvbiA9ICgpID0+ICh7IHR5cGU6IGNvbnN0YW5zXzEuU1RBUlRfR0FNRSB9KTtcbmV4cG9ydHMuc3RhcnRHYW1lQWN0aW9uID0gc3RhcnRHYW1lQWN0aW9uO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlNUQVJUX0dBTUUgPSBleHBvcnRzLkxPR09VVCA9IGV4cG9ydHMuSU5JVF9TVEFURSA9IGV4cG9ydHMuU0FWRV9MT0dJTiA9IHZvaWQgMDtcbmV4cG9ydHMuU0FWRV9MT0dJTiA9ICdTQVZFX0xPR0lOJztcbmV4cG9ydHMuSU5JVF9TVEFURSA9ICdJTklUX1NUQVRFJztcbmV4cG9ydHMuTE9HT1VUID0gJ0xPR09VVCc7XG5leHBvcnRzLlNUQVJUX0dBTUUgPSAnU1RBUlRfR0FNRSc7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGFjdGlvbnNfMSA9IHJlcXVpcmUoXCIuL2FjdGlvbnNcIik7XG5jb25zdCBjcmVhdGVTdG9yZSA9IChyb290UmVkdWNlciwgaW5pdGlhbFN0YXRlKSA9PiB7XG4gICAgbGV0IHN0YXRlID0gcm9vdFJlZHVjZXIoaW5pdGlhbFN0YXRlLCAoMCwgYWN0aW9uc18xLmluaXRTdGF0ZUFjdGlvbikoKSk7XG4gICAgY29uc3Qgc3ViY3JpYmVycyA9IFtdO1xuICAgIHJldHVybiB7XG4gICAgICAgIGRpc3BhdGNoKGFjdGlvbikge1xuICAgICAgICAgICAgc3RhdGUgPSByb290UmVkdWNlcihzdGF0ZSwgYWN0aW9uKTtcbiAgICAgICAgICAgIHN1YmNyaWJlcnMuZm9yRWFjaCgoc3ViKSA9PiBzdWIoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHN1YnNjcmliZShjYWxsYmFjaykge1xuICAgICAgICAgICAgc3ViY3JpYmVycy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0U3RhdGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVTdG9yZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5yb290UmVkdWNlciA9IGV4cG9ydHMuaW5pdGlhbFN0YXRlID0gdm9pZCAwO1xuY29uc3QgY29uc3RhbnNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW5zXCIpO1xuZXhwb3J0cy5pbml0aWFsU3RhdGUgPSB7XG4gICAgZmlyc3ROYW1lOiAnJyxcbiAgICBzdXJuYW1lOiAnJyxcbiAgICBzdGFydEdhbWU6IGZhbHNlLFxufTtcbmNvbnN0IHJvb3RSZWR1Y2VyID0gKHN0YXRlID0gZXhwb3J0cy5pbml0aWFsU3RhdGUsIGFjdGlvbikgPT4ge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSBjb25zdGFuc18xLkxPR09VVDpcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBleHBvcnRzLmluaXRpYWxTdGF0ZSk7XG4gICAgICAgIGNhc2UgY29uc3RhbnNfMS5JTklUX1NUQVRFOlxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpLCB7IGZpcnN0TmFtZTogYWN0aW9uLnBheWxvYWQuZmlyc3ROYW1lLCBzdXJuYW1lOiBhY3Rpb24ucGF5bG9hZC5zdXJuYW1lLCBzdGFydEdhbWU6IGZhbHNlIH0pO1xuICAgICAgICBjYXNlIGNvbnN0YW5zXzEuU0FWRV9MT0dJTjpcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKSwgeyBmaXJzdE5hbWU6IGFjdGlvbi5wYXlsb2FkLmZpcnN0TmFtZSwgc3VybmFtZTogYWN0aW9uLnBheWxvYWQuc3VybmFtZSwgc3RhcnRHYW1lOiBmYWxzZSB9KTtcbiAgICAgICAgY2FzZSBjb25zdGFuc18xLlNUQVJUX0dBTUU6XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSksIHsgc3RhcnRHYW1lOiB0cnVlIH0pO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbn07XG5leHBvcnRzLnJvb3RSZWR1Y2VyID0gcm9vdFJlZHVjZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNyZWF0ZVN0b3JlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vY3JlYXRlU3RvcmVcIikpO1xuY29uc3Qgcm9vdFJlZHVjZXJfMSA9IHJlcXVpcmUoXCIuL3Jvb3RSZWR1Y2VyXCIpO1xuY29uc3Qgc3RvcmUgPSAoMCwgY3JlYXRlU3RvcmVfMS5kZWZhdWx0KShyb290UmVkdWNlcl8xLnJvb3RSZWR1Y2VyKTtcbmV4cG9ydHMuZGVmYXVsdCA9IHN0b3JlO1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgaXMgcmVmZXJlbmNlZCBieSBvdGhlciBtb2R1bGVzIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTYpO1xuIl0sIm5hbWVzIjpbIl9faW1wb3J0RGVmYXVsdCIsInRoaXMiLCJtb2QiLCJfX2VzTW9kdWxlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJtb2RhbF8xIiwiaGVhZGVyR2FtZSIsImhlYWRlciIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImlubmVySFRNTCIsImJ0bkxvZ291dCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwiYm9keSIsImFwcGVuZCIsImRlZmF1bHQiLCJjcmVhdGVIZWFkZXIiLCJhY3Rpb25zXzEiLCJzdG9yZV8xIiwidmFsaWRhdG9yX2Zvcm1fMSIsImZvcm0iLCJpbnB1dHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwibmFtZUxpc3RlbmVyIiwic3VybmFtZUxpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwiaW5wdXROYW1lIiwiaW5wdXRTdXJuYW1lIiwiZGlzcGF0Y2giLCJzYXZlTG9naW5BY3Rpb24iLCJmaXJzdE5hbWUiLCJzdXJuYW1lIiwiY2hlY2tMZXR0ZXJzIiwiaW5wdXQiLCJ0ZXN0IiwiY2hlY2tIeXBoZW4iLCJjaGVja2xlbmd0aE5hbWUiLCJjaGVja2xlbmd0aFN1cm5hbWUiLCJkZWxldGVUZXh0RXJyb3IiLCJ0ZXh0IiwicmVtb3ZlIiwidGFnIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwiZm9yRWFjaCIsImVycm9yIiwibW9kYWwiLCJtb2RhbE92ZXJsYXkiLCJ5ZXNCdG4iLCJub0J0biIsImxvZ291dEFjdGlvbiIsIm1vZGFsV2luZG93IiwiY29udGFpbmVyIiwiZ2V0U3RhdGUiLCJzdGFydCIsInN0YXJ0QnRuIiwic3RhcnRHYW1lQWN0aW9uIiwibG9naW5fZm9ybV8xIiwiaGVhZGVyXzEiLCJzdGFydF9wYWdlXzEiLCJwbGF5R3JvdW5kXzEiLCJzdWJzY3JpYmUiLCJzdGF0ZSIsInN0YXJ0R2FtZSIsImluaXRTdGF0ZUFjdGlvbiIsImFsZXJ0IiwiY29uc3RhbnNfMSIsImRhdGFGb3JtIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImRhdGEiLCJKU09OIiwicGFyc2UiLCJ0eXBlIiwiSU5JVF9TVEFURSIsInBheWxvYWQiLCJqc29uRm9ybSIsInN0cmluZ2lmeSIsInNldEl0ZW0iLCJTQVZFX0xPR0lOIiwicmVtb3ZlSXRlbSIsIkxPR09VVCIsIlNUQVJUX0dBTUUiLCJyb290UmVkdWNlciIsImluaXRpYWxTdGF0ZSIsInN1YmNyaWJlcnMiLCJhY3Rpb24iLCJzdWIiLCJjYWxsYmFjayIsInB1c2giLCJhc3NpZ24iLCJjcmVhdGVTdG9yZV8xIiwicm9vdFJlZHVjZXJfMSIsInN0b3JlIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImNhbGwiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciXSwic291cmNlUm9vdCI6IiJ9